<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS - String | Math | Date</title>
</head>
<body>
    <h1>JS API들</h1>
    <h1>String</h1>
    <input type="button" value="실행" onclick="test1();">
    <input type="button" value="@실습문제" onclick="test2();">
    
    <h1>Math</h1>
    <input type="button" value="실행" onclick="test3();">
    <input type="button" value="@실습문제" onclick="test4();">
    <ul id="test-rnd">
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
        <li></li>
    </ul>

    <h1>Date</h1>
    <input type="button" value="실행" onclick="test5();">

    <h2>형변환</h2>
    <input type="button" value="실행" onclick="test6();">

    <h2>Number | parseInt | parseFloat</h2>
    <input type="button" value="실행" onclick="test7();">

    <h2>NaN | Infinity</h2>
    <input type="button" value="실행" onclick="test8();">

    <h2>논리형 형변환</h2>
    <input type="button" value="실행" onclick="test9();">

    <h2>엄격비교연산자</h2>
    <input type="button" value="실행" onclick="test10();">

    <h2>짧은 조건문</h2>
    <input type="button" value="실행" onclick="test11();">

    <br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br>
</body>
<script>
    // String 내장 객체
    function test1() {
        var str = "Samsung Apple Xiaomi";
        console.log(str.length); // length 속성
        console.log(str.toUpperCase());
        console.log(str.indexOf("ms"));
        console.log(str.lastIndexOf("i"));
        console.log(str.charAt(0));
        console.log(str[0]); // 문자배열로 취급.

        // 문자열의 일부 문자를 리턴
        // ms문자만 자르기
        console.log(str.substring(2, 4));
        console.log(str.substring(2));
        console.log(str.substr(2, 2)); // ms
        console.log(str.substr(2));

        var arr = str.split(" ");
        console.log(arr);
    }

    function test2() {
        var result = countChar("hahaha", "a");
        console.log(result); // 3
        console.log(countChar("abccba", "c"));
        console.log(countChar("abcde", "x"));
    }

    function countChar(str, ch) {
        // * 두개의 인자 문자열과 문자를 입력받고,
        // * 문자열에서 문자가 몇번 출현하는지 리턴하는 함수를 생성
        // *
        // * countChar("hahaha", "a") => 3
        // * countChar("abccba", "c") => 2
        // * countChar("abcde", "x") => 0

        let sum = 0;
        for (let i = 0; i < str.length; i++) {
            if (str[i] == ch) {
                sum++;
            }
        }
        
        return sum;
    }

    const test3 = function() {
        let num = 123.456;

        console.log(Math.round(num));
        console.log(Math.ceil(num));
        console.log(Math.floor(num));
    };

    function test4() {
        /* 
            #test-rnd 하위의 li 태그에 1-100 사이의 난수를 대입하세요.
            단, 짝수라면 글자색을 예쁘게(?) 할것.
        */
        let lis = document.querySelectorAll("#test-rnd>li");

        for (let i = 0; i < lis.length; i++) {
            let randNum = Math.ceil(Math.random() * 100);
            lis[i].innerHTML = randNum;

            if (randNum % 2 == 0) {
                lis[i].style.color = "pink";
            } else {
                lis[i].style.color = "black";
            }
        }
    }

    function test5() {
        let now = new Date();
        console.log(now);

        let time1 = new Date(2025, 5, 16);
        console.log(time1);

        console.log(displayDateTime(now));
    }

    let displayDateTime = function(dt) {
        const year = dt.getFullYear();
        const month = dt.getMonth() +1;
        const date = dt.getDate();

        return year + "-" + (month < 10 ? "0" + month : month) + "-" + date;
        // 2025-6-16;
    };

    const test6 = function() {
        console.log(3+7+"7"); // 107
        console.log(7 - "7"); // 0 -> 7 - "7" => 7 - 7
        console.log(7 * "7");
        console.log(7 / "7");
        console.log("7" % "4");
        // 자동형변환
        console.log(3 + 7 + Number("7"));
        console.log(7 % "a"); // NaN: Not a Number
        // 파싱 불가능한 문자를 숫자로 형변환시 반환되는 값
        console.log(typeof NaN);
        console.log(typeof null);

        console.log(7 + true); // 8
        console.log(7 + false); // 7

        console.log([] + 1);
        console.log([].toString());
        console.log('' + 1);
    };

    const test7 = function() {
        let num = "1234.567원";
        // 자동형변환시 사용되는 메서드. 변환 불가능한 문자열인 경우 NaN 리턴.
        console.log(Number(num));
        console.log(Number(num) == NaN);
        console.log(NaN == NaN);
        console.log(null == null);

        // 변환 가능한 범위까지 변환
        console.log(parseInt(num));
        console.log(parseFloat(num));
    };

    const test8 = function() {
        console.log(-10 / 0); // 값을 0으로 나누는 경우 Infinity 반환
        console.log(typeof Infinity);
        console.log(Infinity / Infinity);

        console.log((10/0) == Infinity);
        console.log((10 / "a") == NaN); // NaN == NaN 은 false 임
        console.log(isNaN(10/"A")); // true
        // 산술연산결과가 NaN인지 아닌지 확인할 때 사용하는 함수
    };

    const test9 = function() {
        /*
            자바스크립트는 변수, 리터럴을 boolean형으로 형변환이 가능

            값이 존재하지 않는 것은 false로 치환
            - 0, -0, 0.0, "", '', undefined, null, NaN

            값이 존재하는 것은 true로 치환
            - 123, 123.456, "하이", new Date(), [], {}

            if (값), 삼항연산자
        */
        // true
        console.log(Boolean(123));
        console.log(Boolean(-123));
        console.log(Boolean(-123.456));
        console.log(Boolean("abcde"));
        console.log(Boolean(new Date()));
        console.log(Boolean([]));
        console.log(Boolean({}));

        console.log("--------------------------")
        // false
        console.log(Boolean(0));
        console.log(Boolean(-0));
        console.log(Boolean(0.0));
        console.log(Boolean(""));
        console.log(Boolean(''));
        console.log(Boolean(undefined));
        console.log(Boolean(null));
        console.log(Boolean(NaN));

        let obj = "";

        if (obj) {
            console.log("obj에 값이 있다.")
        } else {
            console.log("obj에 값이 없다.");
        }

        console.log("0" == 0);
        // "0" == 0 -> Number("0") == 0
        console.log([] == 0);
        // [] == 0 -> [].toString() -> '' == 0 -> Number('') == 0 -> 0 == 0
        console.log([] == "0");
        // '' == "0" -> false
    };

    const test10 = function() {
        /* 
            일반 동등비교연산자
            ==, !=: 자료형이 다른경우, "자동 형변환" 후 동등비교 수행.

            엄격 동등비교연산자
            ===, !==: 값, 타입을 모두 검사하는 연산자. 값은 같으나 타입이 다른 경우 즉시 false 반환.

        */
        console.log(3 == "3");
        console.log(3 != "3");

        console.log(3 === "3");
        console.log(3 === 3);
        console.log(3 !== "3");

        console.log(null == undefined); // true
        console.log(null === undefined); // false
        console.log(NaN === NaN);
    };

    const test11 = function() {
        let num = 10;

        // if (num % 2 === 0) {
        //     console.log("짝수");
        // } else {
        //     console.log("홀수");
        // }

        // 짧은 조건문
        // 조건식A && 조건식B(또는 실행할 코드)
        // 조건식A || 조건식B
        // num % 2 == 0 && console.log("짝수");
        // num % 2 != 0 && console.log("홀수");
        
        // num % 2 == 0 ? console.log("짝수") : console.log("홀수");

        if (num % 2 == 0 && console.log("짝수")) {
            console.log("응");
        }
    };
</script>
</html>